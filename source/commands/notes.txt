
Used in loan-calculator?
YES----------------------------------------Makefile---------Tests------------------------------------
FROM                    TO                 Target    docs   BB        ALL-EVS   ONLY-REQ-EVS   MISSING-REQ-EVS
put_pipeline            declare_pipeline   yes       wip    yes       yes       N/A            no
create_approval         log_approval       yes       wip    N/A       yes       no             no
control_junit           log_test           yes       wip    yes       yes       no             no
put_artifact_image      log_artifact       yes       wip    yes       yes       no             yes
create_deployment       log_deployment     yes       wip    yes       yes       no             no
put_evidence            log_evidence       yes       wip    yes       yes       no             no
nothing                 control_deployment yes       wip    no        no        no             no
control_latest_release  retire
Not-------------------------------------------------------------------------------------------
control_bitbucket_pr  control_pull_request no        no     yes       no        no             no
create_release        request_approval     no        no     no        no        no             no



Command Names:?
---------------
Names feels very generic?
log_test       ===> log_junit_xml_evidence ?
nothing        ===> control_deployment ==> ?
log_evidence   ===> log_X_evidence ?
     I presume the evidence_type env-var must match Merkelypipe.json "template"
     Could we find a name based on that?


In main.yml
- name: Build and push Docker image         - name: Build and push Docker image to dockerhub
- name: Get tagged Docker image name        - name: ?????
- name: Declare Merkely pipeline            - name: Merkely: Declare Pipeline
- name: Log Docker image to Merkely         - name: Merkely: Log Event: Docker image existence.
- name: Log image deployment to Merkely     - name: Merkely: Log Event: Docker image pushed to dockerhub registry.
- name: Run tests                           - name: Run tests
- name: Log test results to Merkely         - name: Merkely: Log Evidence: JUnit xml test summary.
- name: Log coverage evidence to Merkely    - name: Merkely: Log Evidence: JUnit coverage summary.



Is there a difference (compliance wise) between the JUnit xml test summary
and the JUnit coverage summary?

merkely/change repo still need to create Merkelypipe.json file(s) in root dir.


Parked...
=========

builders could be implemented using __init_subclass__

Put declare_merkely_pipeline go at very start of main.yml
Even before building and pushing the image?

Check when using pathed-filename to get sha for that
cdb and merkely behave the same regarding only showing
the basename of the pathed-filename.

Context() should have keyword args? Simpifies run() and main()

Provide Log in External, get Commands to return (method,url,payload)
and do http as separate step.

Could look for *unused* env-vars starting with MERKELY_
and report warnings...

Command could start by printing list of environment variables and their type?

Look into how Python recommended style for abstract-base-classes.

Mock fingerprinters code in tests/utils could be collapsed using
multiple inheritance.

Commands should return the triple(method,url,payload)
and a 2nd step is to do the http get/post/put.
This would simplify the tests by not needing the
dry_run() unless they call main.

As a general principle, for anything in a docstring,
consider whether it should be part of the living documentation.

Once living documentation is in place, warning/error messages can
include targeted urls?

